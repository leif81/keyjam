<html>
    <head>
        <title>Key Jam</title>
        <style>
            body {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            #key {
                font-size: 50vmin;
            }
            .keychange {
                animation-duration: 1s;
                animation-name: keychange;
            }
            @keyframes keychange {
                from {
                    font-size: 10vmin;
                }
            }
        </style>
    </head>
    <body>
        <div id="key"></div>
        <script type="text/javascript">

            // Steal mouse cursor to avoid losing window focus when playing.
            document.addEventListener("click", function(e) {
                e.target.requestPointerLock();
            });

            document.addEventListener("keydown",function(e) {
                var keyboardCharacter = e.key;
                console.log("pressed " + keyboardCharacter);
                document.getElementById("key").textContent = keyboardCharacter;

                // HACK restart animation https://css-tricks.com/restart-css-animation/
                var element = document.getElementById("key");
                element.classList.remove("keychange");
                element.offsetWidth = element.offsetWidth;
                element.classList.add("keychange");
            });
        </script>
    </body>
</html>
